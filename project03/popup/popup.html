<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>봄맞이 할인</title>
	<link rel="stylesheet" href="css/popup.css"/>
	<script>
	// 숫자 자릿수 나누기
		function unit(x){
			var m = x%10
			return m
		};
		function tenth(y){
			var m = y/10%10
			m = Math.floor(m)
			return m
		};
		function hund(v){
			var m = v/100
			m = Math.floor(m)
			return m
		};
		// 카운트 함수 정의 
		function ddayCount(){
			imgArr = [
				'images/num0.png',
				'images/num1.png',
				'images/num2.png',
				'images/num3.png',
				'images/num4.png',
				'images/num5.png',
				'images/num6.png',
				'images/num7.png',
				'images/num8.png',
				'images/num9.png'
			]
			doomsday = new Date('Augu 21, 2022 00:00:00')
			today = new Date()
			howfar = doomsday - today
			if(howfar > 0){
				setTimeout('ddayCount()',1000)
			}else{
				clearTimeout('ddayCount()')
				document.getElementById('countment').innerHTML = "이벤트가 종료되었습니다."
				return false
			}
			// 하루 = 24시간 * 60분 * 60초 * 1000밀리초
			days = Math.floor(howfar/(1000*60*60*24))
			hours = Math.floor(howfar/(1000*60*60))
			mins = Math.floor(howfar/(1000*60))
			secs = Math.floor(howfar/(1000))			
			// 꺼꾸로 카운트 되기 때문에 나머지를 구하기 위한 변수 선언
			// 위에서 정의한 변수들 days, hours, mins, secs를 사용해 이미지 배열의 순번(0~9까지) 숫자를 넣으려고 재정의 함.
			d = days 
			h = hours-days*24
			m = mins-hours*60
			s = secs-mins*60			
			// 시간 이미지 실행
			document.getElementById('day100').setAttribute('src',imgArr[hund(d)])
			document.getElementById('day10').setAttribute('src',imgArr[tenth(d)])
			document.getElementById('day1').setAttribute('src',imgArr[unit(d)])
			document.getElementById('hour10').setAttribute('src',imgArr[tenth(h)])
			document.getElementById('hour1').setAttribute('src',imgArr[unit(h)])
			document.getElementById('min10').setAttribute('src',imgArr[tenth(m)])
			document.getElementById('min1').setAttribute('src',imgArr[unit(m)])
			document.getElementById('sec10').setAttribute('src',imgArr[tenth(s)])
			document.getElementById('sec1').setAttribute('src',imgArr[unit(s)])
		};		
	</script>	
</head>
<body onLoad="ddayCount()">
	<div id="countWrap">
		<img src="images/popimage2.png" alt="봄맞이할인" width="600" height="314" />
		<div class="counter">
			<ul class="cf">
				<li id="countD" class="firstli fl">
					<img src="images/num0.png" width="40" id="day100" class="fl" />
					<img src="images/num0.png" width="40" id="day10" class="fl" />
					<img src="images/num0.png" width="40" id="day1" class="fl" />
				</li>
				<li class="fl">
					<img src="images/numbg.png" width="40" id="middle" class="fl" />
				</li>
				<li id="counterH" class="fl">
					<img src="images/num0.png" width="40" id="hour10" class="fl" alt="시간10의자리" />
					<img src="images/num0.png" width="40" id="hour1" class="fl" alt="시간1의자리" />
				</li>
				<li class="fl">
					<img src="images/numbg.png" width="40" id="middle" class="fl" />
				</li>
				<li id="counterM" class="fl">
					<img src="images/num0.png" width="40" id="min10" class="fl" alt="분10의자리" />
					<img src="images/num0.png" width="40" id="min1" class="fl" alt="분1의자리" />
				</li>
				<li class="fl">
					<img src="images/numbg.png" width="40" id="middle" class="fl" />
				</li>
				<li id="counterS" class="fl">
					<img src="images/num0.png" width="40" id="sec10" class="fl" alt="분10의자리" />
					<img src="images/num0.png" width="40" id="sec1" class="fl" alt="분1의자리" />
				</li>				
			</ul>
		</div>
		<div class="popText">
			<button class="popCloseBtn" onclick="window.close()">닫기</button>
		</div>
	</div>
</body>
</html>